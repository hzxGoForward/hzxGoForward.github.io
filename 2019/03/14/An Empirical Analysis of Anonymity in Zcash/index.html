<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.6.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.6.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false,"padding":18},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1. Zcash的相关知识介绍  1.1 Zcash的工作原理 Zcash是一种从Bitcoin中分叉出来的代币, 其目的在于解决bitcoin中交易在执行过程中可以利用区块追踪交易记录的问题,进而使得交易难以追踪以提高匿名性. Zcash中的地址有两种,一种叫做transparent address,简称t-address,这种地址以t开头. 另外一种地址叫做shielded address,">
<meta property="og:type" content="article">
<meta property="og:title" content="An Empirical Analysis of Anonymity in Zcash">
<meta property="og:url" content="https://hzxgoforward.github.io/2019/03/14/An%20Empirical%20Analysis%20of%20Anonymity%20in%20Zcash/index.html">
<meta property="og:site_name" content="萌虎下山">
<meta property="og:description" content="1. Zcash的相关知识介绍  1.1 Zcash的工作原理 Zcash是一种从Bitcoin中分叉出来的代币, 其目的在于解决bitcoin中交易在执行过程中可以利用区块追踪交易记录的问题,进而使得交易难以追踪以提高匿名性. Zcash中的地址有两种,一种叫做transparent address,简称t-address,这种地址以t开头. 另外一种地址叫做shielded address,">
<meta property="og:locale">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2019031314352632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190313144006733.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190313144615912.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190313145010448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2019-03-14T10:02:14.000Z">
<meta property="article:modified_time" content="2019-11-08T06:56:16.000Z">
<meta property="article:author" content="hzx">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/2019031314352632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">






  <link rel="canonical" href="https://hzxgoforward.github.io/2019/03/14/An Empirical Analysis of Anonymity in Zcash/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>An Empirical Analysis of Anonymity in Zcash | 萌虎下山</title>
  











  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">萌虎下山</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">与其感慨路难行，不如马上出发!</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hzxgoforward.github.io/2019/03/14/An%20Empirical%20Analysis%20of%20Anonymity%20in%20Zcash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="博主">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar2.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="萌虎下山">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">An Empirical Analysis of Anonymity in Zcash
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建于：2019-03-14 18:02:14" itemprop="dateCreated datePublished" datetime="2019-03-14T18:02:14+08:00">2019-03-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="更新于：2019-11-08 14:56:16" itemprop="dateModified" datetime="2019-11-08T14:56:16+08:00">2019-11-08</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8A%80%E6%9C%AF%E7%A0%94%E7%A9%B6/" itemprop="url" rel="index"><span itemprop="name">区块链技术研究</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <span class="post-meta-divider">|</span>
            <span id="busuanzi_value_page_pv"></span>次阅读
          


          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-zcash的相关知识介绍"><a class="markdownIt-Anchor" href="#1-zcash的相关知识介绍"></a> 1. Zcash的相关知识介绍</h1>
<h2 id="11-zcash的工作原理"><a class="markdownIt-Anchor" href="#11-zcash的工作原理"></a> 1.1 Zcash的工作原理</h2>
<p>Zcash是一种从Bitcoin中分叉出来的代币, 其目的在于解决bitcoin中交易在执行过程中可以利用区块追踪交易记录的问题,进而使得交易难以追踪以提高匿名性.<br />
Zcash中的地址有两种,一种叫做transparent address,简称t-address,这种地址以t开头. 另外一种地址叫做shielded address, 这种地址以z开头.Zcash中大概有如下4种交易类型,如下图所示:</p>
<center>
<img src = "https://img-blog.csdnimg.cn/20190313141202670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70"  >
</center>
<p>z-address 到z-address的转账称之为Private transactions, z-address 到t-address的转账称之为Deshielding transactions, t-address到z-address的转账叫做Shielded transactions, 而t-address到t-address的转账叫做transparent transactions.</p>
<ol>
<li>
<p><strong>t-to-t transaction</strong></p>
<p>两个t-address之间的交易, 和Bitcoin中的交易完全相同,交易双方的地址, 交易费, 交易金额都是公开并且可以追踪的.一个典型的示例如下:</p>
 </center>
 <img src="https://img-blog.csdnimg.cn/2019031314352632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70" ></center>
 这笔交易中, 有一个输入,2个输出,输入和输出的地址都是t开头.
</li>
<li>
<p><strong>t-to-z transaction</strong></p>
<p>t-to-z transaction中,可以叫做shielded transaction, 只能看到输入地址, 即以t开头的地址,交易费等信息, 但是输出的具体地址以及地址个数是未知的.</p>
 </center>
 <img src="https://img-blog.csdnimg.cn/20190313144006733.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70" ></center>
<p>这笔交易中,只有1个输入,输入代币总量以及交易费也是已知的,但是输出的地址以及输出地址的个数是未知的, 最终输入的其他ZEC流入了<strong>shielded pool</strong>中.</p>
</li>
<li>
<p><strong>z-to-t transaction</strong></p>
<p>z-to-t transaction,又叫做 deshielded transaction,即从shielded pool中的代币转出至某个特定的t-address中.</p>
 </center>
 <img src="https://img-blog.csdnimg.cn/20190313144615912.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70" ></center>
<p>上图中,交易的输入地址和输入地址的个数未知,但是知道输出地址的数量和具体信息,同时输出代币数和交易费用已知.</p>
</li>
<li>
<p><strong>z-to-z transaction</strong></p>
<p>z-address 到z-address的转账称之为Private transactions,从z-toz交易中只能得知交易费。但是交易地址、地址数量以及交易的ZEC数目都是未知的。</p>
 </center>
 	<img src="https://img-blog.csdnimg.cn/20190313145010448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70" ></center>
<p>这笔交易中，输入地址和输出地址的数量以及具体信息都是未知的，唯一能确定的是交易费用。z-to-z地址之间的转换，就相当于在shielded pool中进行持续转账。所有z-address中的ZEC就组成了shielded pool.</p>
</li>
</ol>
<h2 id="12-joinsplits"><a class="markdownIt-Anchor" href="#12-joinsplits"></a> 1.2 JoinSplits</h2>
<p>简单的理解, 从t-add 转入 z-addr的转账交易，即将ZEC转入到shielded pool中，因此叫做shielded交易，而从z-addr转到t-addr的交易， 即从shielded pool中转出ZEC, 因此叫做deshielded 交易, z-address之间的转账,则称之为private transaction.</p>
<p>从上述4中交易的介绍中, 可以观察发现,只有t-address和t-address之间的转账中没有JoinSplits, 而凡是涉及到z-addrress的交易,图中都会有一个JoinSplits的字段, JoinSplits字段中指定了交易中ZEC的来源和去向,以及其中的零知识证明,这个证明允许其他人在不揭露交易内容的前提下验证加密交易的真实性. 关于阅读本论文, 我们只需要知道这个就可以了.</p>
<p>更多关于零知识的证明,感兴趣可以点击<a target="_blank" rel="noopener" href="https://z.cash/technology/zksnarks">zk-SNARKs</a>以及如下几个链接.</p>
<ul>
<li>
<p>ZCash中的Transaction: <a target="_blank" rel="noopener" href="https://z.cash/technology/#viewing-keys">https://z.cash/technology/#viewing-keys</a></p>
</li>
<li>
<p>ZCash中的Anatomy:  <a target="_blank" rel="noopener" href="https://z.cash/blog/anatomy-of-zcash/">https://z.cash/blog/anatomy-of-zcash/</a> * ZCash协议详解: <a target="_blank" rel="noopener" href="https://github.com/zcash/zips/blob/master/protocol/protocol.pdf">https://github.com/zcash/zips/blob/master/protocol/protocol.pdf</a> (交易细节可以参看3.4节)</p>
</li>
<li>
<p>ZCash零知识证明: <a target="_blank" rel="noopener" href="https://z.cash/zh/technology/zksnarks/">https://z.cash/zh/technology/zksnarks/</a></p>
</li>
</ul>
<h2 id="13-zcash的主要参与者"><a class="markdownIt-Anchor" href="#13-zcash的主要参与者"></a> 1.3 Zcash的主要参与者</h2>
<p>Zcash中的参与人主要有4类,</p>
<ul>
<li>
<p><strong>创始人(Founders)</strong>,</p>
</li>
<li>
<p><strong>矿工(Miners)</strong>,</p>
</li>
<li>
<p><strong>服务提供商(Services)</strong></p>
</li>
<li>
<p><strong>用户(Users).</strong></p>
</li>
</ul>
<p>在Zcash刚开始挖矿的4年中,每次矿工挖出一个区块时,都需要将25%的出块奖励转发给创始人团队, 一个区块的出块奖励为12.5ZEC, 创始人拿到2.5ZEC, 矿工拿到10ZEC.</p>
<h2 id="2-论文主要内容简要介绍"><a class="markdownIt-Anchor" href="#2-论文主要内容简要介绍"></a> 2. 论文主要内容简要介绍</h2>
<h3 id="21-主要研究方法和内容介绍"><a class="markdownIt-Anchor" href="#21-主要研究方法和内容介绍"></a> 2.1 主要研究方法和内容介绍</h3>
<p>这篇文章发表于2018年第27届USENIX Security Symposium会议,本论文非常深入的分析了Zcash的匿名程度,文章首先对Zcash区块链中的区块链信息进行了统计说明, 统计结果表明Zcash区块链中, 85%的交易都是transparent 交易, 而匿名的交易仅仅占比25%左右.<br />
随后对Zcash中的交易(t-to-t, z-to-t, t-to-z, z-to-z), 使用5种启发式方法进行分析并尝试对其中的地址所对应的用户进行标记.通过文章中的启发式方法的分析,分别发现了创始人和矿工在进行z-to-t和t-to-z交易时的一些明显的特征, 利用这些特征识别出了创始人和矿工的隐匿的地址,同时也对其他一些黑客组织的地址进行了识别. 文章的5个启发式分析方法主要介绍如下:</p>
<ul>
<li>
<p><strong>启发式方法1: Zcash一笔交易中的多个输入地址都由同一个实体控制.</strong></p>
<ul>
<li>
<p>将Zcash区块链中每一个地址当做1个顶点, 同一笔交易中的多个输入地址之间用无向边连接, 以此完成了对Zcash中所有t-address的聚类, 总共得到560319个簇.</p>
</li>
<li>
<p>Zcash中的铸币交易, 一个区块产生12.5个ZEC, 其中10个归属矿工, 2.5个归属创始人, 因此每个区块的铸币交易中可以确定并且准确的标记出创始和矿工t-address.</p>
</li>
<li>
<p>分别从Top10的交易所购买Zcash, 随后在交易所的地址和自己Zcash的地址之间多次转账, 根据转账记录标记出交易所的地址.</p>
</li>
</ul>
</li>
<li>
<p><strong>启发式方法3: 任何交易值是250.0001ZEC的z-to-t转账交易时由创世团队发起</strong></p>
<ul>
<li>
<p>这是因为在文章作者在研究t-to-z的交易时, 发现创始团队比较有规律的往shielded pool转账, 每次转账249.9999ZEC, 这些t-to-z转账交易的时间间隔是6~10个区块. z-to-t的交易中, 有很多转账交易是价值250.0001ZEC的交易,这些交易也前后时间间隔是 6~10个区块,作者认为这是一种创世团队提取ZEC的一种自动转账脚本.</p>
</li>
<li>
<p>基于上述假设, 发现了创始人团队z-to-t转账中额外的75个地址, 而前面启发式方法1中发现了48个地址, 于是总共发现了123个创始人团队的地址.</p>
</li>
<li>
<p>创世人以为执行了t-to-z交易之后将自己的ZEC转入shielded pool, 随后从shielded pool中发起z-to-t的交易将ZEC转出, 结果使用了脚本, 于是作者利用启发式方法3建立了t-to-z 和z-to-t交易之间的联系,这是其重大意义所在.</p>
</li>
</ul>
</li>
<li>
<p><strong>启发式方法4: 如果1个z-to-t的交易中,输出地址超过100个,并且其中一个输出地址是一个已知的矿池地址, 那么认为其他输出地址也是矿工地址</strong></p>
<ul>
<li>这个假设的前提是因为在Zcash中, 矿工挖矿成功之后铸币交易的ZEC,必须先转入shield pool, 即先执行一个t-to-z交易, 随后从shield pool 转出时矿池将每个矿工的收益分别发送给矿工,剩余ZEC退回到矿池的地址.</li>
<li>通过上述的方法,确定了110918个矿工的地址, 启发式方法4能够将矿工的t-to-z和z-to-t转账交易中的t-address联系起来.</li>
</ul>
</li>
<li>
<p><strong>启发式方法5: 如果一笔t-to-z的交易, 交易值是V, 随后的一段时间内, 出现了一笔转账交易值也是V的z-to-t的交易, 则认为这笔交易时相关的</strong></p>
<ul>
<li>这个假设听起来很容易造成false positive, 但是实际上 总共有12841笔t-to-z和对应的z-to-t交易, 这些对应的交易都有着完全不同的交易值, 其中的9487笔交易精确到小数点后8位, 超过98.9%的交易精确到小数点后3位, 基于这个事实,基本可以认为这些交易是相关的.</li>
</ul>
</li>
</ul>
<p>注意, 上文没有介绍启发式方法2, 这是因为论文中仅仅介绍了该方法,但是考虑到实际的可靠性,并没有采用该方法.</p>
<h3 id="22-文章结论"><a class="markdownIt-Anchor" href="#22-文章结论"></a> 2.2 文章结论</h3>
<ul>
<li>通过上述启发式的方法, 作者能将shielded pool 中转账交易中69.1%的地址进行标记,这严重的降低了ZCash的匿名性功能. 大多数的用户并没有很好地使用ZCash的匿名性, 或者说与shield pool 进行交互进行匿名的方式仍然留下了线索从而被识别出来, 这减少了ZCash 中的匿名集的范围, 也严重的损害了其他用户的匿名性. 论文更多资料会议网址及资料<a target="_blank" rel="noopener" href="https://www.usenix.org/conference/usenixsecurity18/presentation/kappos">点击这里.</a></li>
</ul>
<h1 id="3-匿名性方面的其他研究"><a class="markdownIt-Anchor" href="#3-匿名性方面的其他研究"></a> 3. 匿名性方面的其他研究</h1>
<p>匿名性方面的研究工作, 目前的研究方向是两种, 一种是建立一个更好的匿名性的机制, 以增强区块链中的匿名性, 例如目前的CoinJoin,Mix混币技术,或者是建立新的Dash, Monero以及Zcash等匿名性更强的币种. 另外一方面的研究工作, 则是通过分析方法,指出目前区块链匿名性技术方面的不足.</p>
<ul>
<li>
<p>有一些学者致力于研究  <strong>混币(mix)</strong>  服务或者是建立新的币种的方法以提高匿名性, 或者致力于创建一种新的加密货币, 例如Dash, CoinJoin技术已经Monero和Zcash. 参考文献如下:</p>
<ul>
<li>E. Heilman, L. Alshenibr, F. Baldimtsi, A. Scafuro, and S. Goldberg. TumbleBit: an untrusted Bitcoin-compatible anonymous payment hub. In Proceedings of NDSS 2017, 2017</li>
<li>A. E. Kosba, A. Miller, E. Shi, Z. Wen, and C. Papamanthou. Hawk: The blockchain model of cryptography and privacypreserving smart contracts. In 2016 IEEE Symposium on Security and Privacy, pages 839–858, San Jose, CA, USA, May 22–26, 2016. IEEE Computer Society Press</li>
<li>S. Meiklejohn and R. Mercer. Mobius: Trustless tumbling for  transaction privacy. Proceedings on Privacy Enhancing Technologies, 2018</li>
<li>T. Ruffing, P. Moreno-Sanchez, and A. Kate. CoinShuffle: Practical decentralized coin mixing for Bitcoin. In M. Kutylowski and J. Vaidya, editors, ESORICS 2014, Part II, volume 8713 of LNCS, pages 345–364, Wroclaw, Poland, Sept. 7–11, 2014. Springer, Heidelberg, Germany.</li>
<li>G. Maxwell. CoinJoin: Bitcoin privacy for the real world. <a target="_blank" rel="noopener" href="http://bitcointalk.org/index.php?topic=279249">bitcointalk.org/index.php?topic=279249</a>, Aug. 2013.</li>
<li>Dash. <a target="_blank" rel="noopener" href="https://www.dash.org">https://www.dash.org</a>.</li>
<li>Monero. <a target="_blank" rel="noopener" href="https://getmonero.org">https://getmonero.org</a>.</li>
<li>Zcash. <a target="_blank" rel="noopener" href="https://z.cash">https://z.cash</a>.</li>
</ul>
</li>
<li>
<p>另外一些研究致力于通过一些方法检验加密货币的匿名性,指出其限制性.这些所有的研究都有共同的方案,就使用一些启发性的方法, 然后对所有的交易地址进行聚类, 再对聚类之后的地址进行标记以识别出这些地址的具体隶属信息. 目前已经有一些论文, 对Dash, Monero, CoinJoin以及Zcash的匿名性都进行了分析, 相关文献如下:</p>
</li>
<li>
<p>A. Kumar, C. Fischer, S. Tople, and P. Saxena. A traceability analysis of Monero’s blockchain. In Proceedings of ESORICS 2017, pages 153–173, 2017.</p>
</li>
<li>
<p>A. Miller, M. Moser, K. Lee, and A. Narayanan. An ¨ empirical analysis of linkability in the Monero blockchain. arXiv:1704.04299, 2017. <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1704.04299.pdf">https://arxiv.org/pdf/1704.04299.pdf</a></p>
</li>
<li>
<p>P. Moreno-Sanchez, M. B. Zafar, and A. Kate. Listening to whispers of Ripple: Linking wallets and deanonymizing transactions in the Ripple network. Proceedings on Privacy Enhancing Technologies, 2016(4):436–453, 2016</p>
</li>
<li>
<p>P. Moreno-Sanchez, M. B. Zafar, and A. Kate. Listening to whispers of Ripple: Linking wallets and deanonymizing transactions in the Ripple network. Proceedings on Privacy Enhancing Technologies, 2016(4):436–453, 2016</p>
</li>
<li>
<p>J. Quesnelle. On the linkability of Zcash transactions. arXiv:1712.01210, 2017. <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1712.01210.pdf">https://arxiv.org/pdf/1712.01210.pdf</a></p>
</li>
</ul>
<h1 id="4-思考"><a class="markdownIt-Anchor" href="#4-思考"></a> 4. 思考</h1>
<ul>
<li>
<p>通过对这篇文章的阅读, 大概对区块链匿名性方面的研究有了一些初步的了解, &quot;An Empirical Analysis of Anonymity in Zcash&quot;这篇文章中的方法比较简单, 但是这些简单的方法应该是基于大量的研究分析工作得来的. 刚开始阅读完这篇文章的时候,我并没有认为这篇文章具有很大的贡献程度.</p>
</li>
<li>
<p>这篇文章能够发表在USENIX上,我觉得原因如下:</p>
<ol>
<li>文章的工作量很大, 对Zcash中所有的区块数据和交易都进行了大量的统计分析工作, 使得读者能对Zcash有一个非常直观的认知.</li>
<li>文章中使用了5种针对Zcash的启发式分析方法, 对t-address进行聚类, 随后进行标记, 然后建立tt-to-z和z-to-t这一匿名转账操作之间的联系, 找到了许多创始人和矿工的地址, 推理方法有理有据,分析比较到位.</li>
<li>该文章是第一个对Zcash的匿名性进行分析的文章, 指出了Zcash的弱点, 这就是对Zcash的匿名性的改进提供了方向.</li>
</ol>
</li>
<li>
<p>文章通过大量的分析和工作说明了一个问题, 即Zcash的匿名性并不仅仅是由零知识证明技术决定的, Zcash的用户在进行t-to-z交易和z-to-t交易中转换以隐藏自己身份的时候, 应该使用一种更加匿名的方式.一旦Zcash用户不能很好地隐匿自己, 其他用户的隐私性也会受到威胁.</p>
</li>
</ul>
<h1 id="5-对文章分析方法的详细阅读解析"><a class="markdownIt-Anchor" href="#5-对文章分析方法的详细阅读解析"></a> 5. 对文章分析方法的详细阅读解析</h1>
<h2 id="51-zcash的统计信息"><a class="markdownIt-Anchor" href="#51-zcash的统计信息"></a> 5.1 Zcash的统计信息</h2>
<p>作者这里所说的所有区块统计信息,都是以2018年1月21日为止.</p>
<h3 id="511-区块生产信息"><a class="markdownIt-Anchor" href="#511-区块生产信息"></a> 5.1.1 区块生产信息</h3>
<p>作者使用zcashd客户端下载Zcash 区块链,将区块链载入Apache Spark中,随后使用pySpark包进行分析.截止2018年1月21日为止, 总共生产了258472个区块, 产生了31,06,043个ZEC, 其中矿工分得2,485,461, 创始人团队获得621,182 ZEC. 这里有个疑问是总共产生258472个区块,如果每个区块的reward为12.5, 那么总共应该产生3,230,900ZEC,但是实际上并没有这么多,这是因为最初的 20,000 个块的奖励很少，从第 1 个块开始到第 20,000 个块的奖励线性增加，在第 20,000 个块处奖励 12.5 个Zcash. 官方解释说这样做的目的是为防止早期的快速挖矿对 Zcash 系统造成伤害。 Zcash 系统每 2.5 分钟一个块，20,000 个块之后，每个块奖励 12.5 个Zcash。</p>
<h3 id="512-交易transactions"><a class="markdownIt-Anchor" href="#512-交易transactions"></a> 5.1.2 交易(Transactions)</h3>
<p>所有区块总共2,242,847笔交易, 交易具体分布信息如Table.1 所示.<br />
<center><br />
<img src = "https://img-blog.csdnimg.cn/20190313152246158.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70"><br />
</center><br />
Table.1 中transparent指的是t-to-t交易的数量, Coingen指的是铸币交易, Deshielded指的是z-to-t的交易, shielded 指的是t-to-z交易.Mixed指的是混合交易,即一笔交易的输入或者输出中都包含t和z地址的交易. Private指的是z-to-z交易.<br />
从表中显然可以看出, t-to-t交易仍然占有很大的比例,它与铸币交易总共占全部交易的85%, 与shielded pool有关的交易仅仅有335,630笔,总共占有14.96%的比例.</p>
<p>在Fig.2中,展示了随着时间的增长, Zcash区块链中各种交易所占的比例变化趋势,图中可以看出, Coingen, shielded以及deshielded交易都呈现出线性增长的情况,将在后续分析中分析其成因.</p>
<center>
<img src = "https://img-blog.csdnimg.cn/20190313154343132.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
	Fig.3图揭示了随着时间增长,各种交易中涉及的ZEC比例变化趋势图. 从Fig.3 和Fig.2 的综合分析中, 可以看出与shielded pool的交易呈现出线性增长的趋势, 但是总ZEC的价值却呈现越来越小的比例, transparent交易的比例越来越高.
<center>
<img src = "https://img-blog.csdnimg.cn/20190313154215741.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<h3 id="513-地址addresses统计信息"><a class="markdownIt-Anchor" href="#513-地址addresses统计信息"></a> 5.1.3 地址(Addresses)统计信息</h3>
<p>在所有的交易中, 有1,740,378个t-address, 其中8727笔交易时t-to-z trx, 另外330,780笔交易时z-to-t trx. 这两种交易不对称行的原因,是由于矿池的一些操作导致.矿池使用极少数量的地址收集block reward, 但是分配block reward时需要分别转给矿池中的每个矿工.由于shielded pool的存在, 无法探知到具体有多少z-address的存在.</p>
<p>Fig.4展示了shielded pool中ZEC随着时间增长的变化情况, 在图中有比较明显的震荡点, 而这是由于Zcash创始人的转账操作导致,后续会对这种情况给出更为具体的解释.截止到撰写本文的时间,<strong>shielded pool中总共有112, 235的ZEC.</strong></p>
<center>
	<img src = "https://img-blog.csdnimg.cn/20190313155805593.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<p>分别对t-address中的地址拥有ZEC的数量进行排序, 可以发现其中只有25%的地址中的ZEC数量大于0, 而在这25%的地址中, 其中前1%的地址拥有78%的ZEC. <strong>拥有ZEC最多的账户拥有118,257.75个ZEC, 这比整个shielded pool中的ZEC还要多!</strong></p>
<p>截止目前为止,论文作者主要介绍了ZCash中一些统计信息,使读者对整个ZCash有一个大概的了解, 下文中,对ZCash进行一些启发式的分析方法.</p>
<h1 id="6-t-address-clustering"><a class="markdownIt-Anchor" href="#6-t-address-clustering"></a> 6. T-Address Clustering</h1>
<p>因为Zcash中从t-address地址发出的的交易与Bitcoin中的交易类似, Bitcoin中对同一笔交易中的多个输入聚类的方法同样可以用来对Zcash中同一笔交易的多个t-address进行聚类. 因此,论文提出Heuristic 1, 具体解释如下:</p>
<h5 id="heuristic-1-如果有多个t-address作为输入出现在同一笔交易中无论这笔交易是t-to-z或者t-to-t抑或是mixed交易-我们都认为这些地址受同一个实体的控制"><a class="markdownIt-Anchor" href="#heuristic-1-如果有多个t-address作为输入出现在同一笔交易中无论这笔交易是t-to-z或者t-to-t抑或是mixed交易-我们都认为这些地址受同一个实体的控制"></a> Heuristic 1: 如果有多个t-address作为输入出现在同一笔交易中,无论这笔交易是t-to-z或者t-to-t抑或是Mixed交易, 我们都认为这些地址受同一个实体的控制.</h5>
<p>鉴于这种启发式的方法已经在Bitcoin中采用, 而Zcash又是Bitcoin的一个分叉,因此认为这个论断基本上是可信的.随后作者按照该方法对Zcash中的所有交易进行了聚类,假设交易中的每个t-address是一个节点, 则对同一笔交易中的多个输入用一条无向边链接, 随后得到聚类结果.经过聚类后得到560, 319个cluster, 其中97,539个cluster包含至少2个t-address.</p>
<p>这种启发式的方法可以发现由同一实体控制的多个地址,但是却不能有效的追踪常见的地址变换情况, 最常见的地址变换情况是一个sender使用地址Addr_A将ZEC发送给recipient,此外还有一部分的ZEC作为找零转到了自己的另外一个地址Addr_B上,随后如果sender仅仅将在一笔交易中心仅仅以Addr_B作为输入将剩余ZEC全部花出去时,上述启发式方法无法建立Addr_A和Addr_B之间实际上由同一实体控制的情况.</p>
<h5 id="heuristic-2-如果在一笔交易的joinsplit的input中有一个或者多个地址是t-address代号t_addr_a-而第二个input地址代号t_addr_b同时又是唯一的一个output-t-address那么-t_addr_b和t_addr_a隶属于同一实体控制"><a class="markdownIt-Anchor" href="#heuristic-2-如果在一笔交易的joinsplit的input中有一个或者多个地址是t-address代号t_addr_a-而第二个input地址代号t_addr_b同时又是唯一的一个output-t-address那么-t_addr_b和t_addr_a隶属于同一实体控制"></a> Heuristic 2: 如果在一笔交易的JoinSplit的input中有一个或者多个地址是t-address(代号t_addr_A), 而第二个input地址(代号t_addr_B)同时又是唯一的一个output t-address,那么 t_addr_B和t_addr_A隶属于同一实体控制.</h5>
<p>这个假设实在是,作者先到了这个假设,但是实际上由于Zcash的一个钱包–zcash4win的存在,有些用户会给钱包开发者一些费用,因此这个可能是个例外,于是作者并没有采用这个方法.</p>
<h2 id="61-tagging-address标记各种地址"><a class="markdownIt-Anchor" href="#61-tagging-address标记各种地址"></a> 6.1 Tagging address(标记各种地址)</h2>
<h3 id="611-标记交易所的地址"><a class="markdownIt-Anchor" href="#611-标记交易所的地址"></a> 6.1.1 标记交易所的地址</h3>
<p>根据已有的clusters, 作者下一步目标是对这些cluster进行标记,以确定他们是Zcash的4类用户中的哪一类. 首先对交易所进行标记, 作者首先根据20家交易所的市场占有率,选出其中的top-10交易所, 随后分别从这些交易所中购入一些Zcash,然后在交易所的地址和自己注册的Zcash地址之间多次进行转账,每次转账的时候都对相应的交易所的地址进行标记.这样就可以确定相应交易所所在的cluster, 文章作者分别对每个cluster进行了标记,以每个簇中地址的个数从大到小排序,最大的簇标记为0, 与top-10交易所之间的交易次数,随后确定的交易所在的簇的编号, 具体结果如Table. 2所示.其中ShapShift是一家公司, 用户可以通过这个账户进行币种转换.</p>
<center>
<img src = "https://img-blog.csdnimg.cn/20190313185947149.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<h3 id="612-标记创始人和矿工的地址"><a class="markdownIt-Anchor" href="#612-标记创始人和矿工的地址"></a> 6.1.2  标记创始人和矿工的地址</h3>
<p>收集创始人已经公开的地址,同时从区块中标记矿工的地址, 验证矿工地址标记的正确性, 可以直接通过矿池网站查看矿池的为挖出区块的声明.</p>
<h3 id="613-结果"><a class="markdownIt-Anchor" href="#613-结果"></a> 6.1.3 结果</h3>
<h5 id="矿工和创始人"><a class="markdownIt-Anchor" href="#矿工和创始人"></a> 矿工和创始人</h5>
<p>其中发现有一些矿工的地址是交易所的地址,这说明有些矿工直接将所属交易所的地址用来接收block reward, 这样为的是方便提现, 同时有一些创始人的地址也隶属于交易所.<br />
Table2中可以看出ShapeShift的使用频率非常高,已经收到超过1.1M 的ZEC, 同时发送的ZEC几乎是等量的.与交易所不同，它的集群包含相对较少数量的矿工地址（54），这与其用作转移资金的方式相符，而不是将其存放在钱包中。<br />
尽管矿池和创始人在Zcash中非常活跃,但是由于他们只使用少部分的地址, 因此他们的地址形成的簇不太大.</p>
<h5 id="公开的组织"><a class="markdownIt-Anchor" href="#公开的组织"></a> 公开的组织</h5>
<p>另外,通过调查,发现了3个比较大的接收Zcash支付的组织:the Internet Archive, torservers.net以及Wikileaks. 其中torservers.net只通过z-address接收转账.因此无法识别出他们发起的交易. Wikileaks 也是只通过z-address接收转账.Internet Archive的31笔转账中总共转账17.3ZEC, 9笔交易是匿名的. Wikileaks的20笔转账交易全部是t-to-t交易,并且所有的地址单独成簇.</p>
<h1 id="7-与shielded-pool的交互"><a class="markdownIt-Anchor" href="#7-与shielded-pool的交互"></a> 7. 与Shielded Pool的交互</h1>
<p>这部分分析t-to-z和z-to-t交易.随着时间增长,总共有3,901,124的ZEC进入pool中,随后又有3,788,889的ZEC从pool中取出.Fig 5描述了这一情况, 基本上存储和取回的数量持平,并且呈现对称形式.这表明很多用户存入pool之后会很快的取回他们的ZEC.另外,图中有很明显的4处尖峰.第一处尖峰发生在2016年12月份,由1笔pool中取回7135ZEC的交易, 这笔ZEC分别转给15个t-address,这15个账户属于创始人. 第二处尖峰发生在2017年12月25日, 在242642个区块上,10,000ZECX分别转给10个t-address, 每个t-address收到了1,000ZEC, 目前这10个账户并没有进行任何交易.另外两次的t-to-z的尖峰是, 每个t-address都单独成一个簇,在后续中会说明与创始人有关.</p>
<center>
<img src = "https://img-blog.csdnimg.cn/20190313194509493.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<p>利用标记好的创始人信息和矿工的地址信息,分析这些包含创始人地址或者包含矿工地址的t-to-z转账交易, 得到Figure 6. 根据Figure 6可知矿工和创始人是往shielded pool 转账最多的人, 实际上占比可达76.7%. 而矿工占比达到63.7%, 这表明创始人并没有将很多ZEC放入pool中,毕竟创始人的ZEC是矿工的20%.</p>
<center>
<img src = "https://img-blog.csdnimg.cn/20190313200026398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<p>转账最多的用户,往pool转入超过10,000ZEC, 转账情况如图Figure 7所示.从这图可以看出来, pool中存款的大户仍然是创始人和矿工.</p>
<center>
<img src = "https://img-blog.csdnimg.cn/20190313200534852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<h2 id="71-t-to-z和z-to-t交易之间建立联系"><a class="markdownIt-Anchor" href="#71-t-to-z和z-to-t交易之间建立联系"></a> 7.1 t-to-z和z-to-t交易之间建立联系</h2>
<p>shield pool的最大作用是提供了一个匿名集, 用户通过t-to-z的转账之后再从z-to-t中提款,这样其他人就无法追踪提的款来自于哪里.但是如果把t-to-z和z-to-t这两种交易之间能够联系起来,这样在未来发生z-to-t的转账时可以把已确定名单的交易排除出去,这样就能够减小匿名集的大小.</p>
<p>最简单的方法是, 如果t-to-z中的t和z-to-t中的地址相同,那么就能排除一部分 shield pool 的匿名集合.于是实施这个想法的结果如图Figure 8a所示.实际上,通过这种方法,几乎没法将一些z-to-t交易和创始人的地址对应起来, 实际上,只能对应一部分矿工的地址.毕竟创始人不傻, 交易进入shield pool就是为了匿名,怎么可能再采用使用过的地址转出呢, 何况这个团队是以密码学为看家本领,所以不会犯这种错误,而只有对于矿工来说, 使用同样地址无所谓,因为对匿名性要求不高,能提款就好. 最终能与矿工地址对应起来的交易总共有49280笔,占所有z-to-t交易的13.3%.</p>
<center>
<img src = "https://img-blog.csdnimg.cn/20190313205049137.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<h3 id="711-将z-to-t中创始人的t-address识别出来"><a class="markdownIt-Anchor" href="#711-将z-to-t中创始人的t-address识别出来"></a> 7.1.1 将z-to-t中创始人的t-address识别出来</h3>
<p>经过对创始人团队的地址分析,发现其中14个地址用于t-to-z的交易, 而其中每一笔t-to-z的交易每次转账都是249.9999ZEC, 这恰好是100个区块的奖励. 而另外只有5笔 249到251范围之间的t-to-z转账交易.基于这个特点,本来没法将t-to-z和z-to-t交易联系起来,但是这种模式给了作者灵感. 在所有的z-to-t交易中,没有发现249.9999的转账交易,但是发现了1953笔250.0001ZEC笔交易, 另外1969笔交易在249和251范围之间.于是作者检查了249.9999的t-to-z交易的频率,发现每笔交易之间间隔6~ 10个区块,再检查z-to-t的250.0001ZEC的交易时,发现1953中的1943笔交易的间隔大概是6~10个区块, t-to-z和z-to-t的交易,都像同一个模式, 这种模式的表现情况可以参看figure 9.</p>
<center><img src = "https://img-blog.csdnimg.cn/20190313204433761.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<p>基于Figure 9 的这种情况,作者大胆做出一个启发式方法:</p>
<h5 id="heuristic-3-任何z-to-t的交易中如果转出2500001zec-那么这笔交易是由创始人发起的"><a class="markdownIt-Anchor" href="#heuristic-3-任何z-to-t的交易中如果转出2500001zec-那么这笔交易是由创始人发起的"></a> Heuristic 3. 任何z-to-t的交易中,如果转出250.0001ZEC, 那么这笔交易是由创始人发起的.</h5>
<p>通过运行这个方法, 作者通过z-to-t交易, 额外发现了75个创始人的t-address, 这和之前的48个地址加起来,总共是123个地址.通过这一波操作, 可以找到创始人的z-to-t的交易, 对比之前的figure 8a, 此时得到的Fugire 8b.</p>
<h3 id="712-将z-to-t中矿工的t-address识别出来"><a class="markdownIt-Anchor" href="#712-将z-to-t中矿工的t-address识别出来"></a> 7.1.2 将z-to-t中矿工的t-address识别出来</h3>
<p>Zcash协议规定铸币交易产生的ZEC,必须先进入shield pool, 然后才能更使用, 正因为此, 很多矿池或者个人矿工在铸币交易之后还需要将地址中的ZEC转入shield pool, 使用的时候再从shield pool中取回. 由于每个矿池网站会公布自己挖出的区块信息, 这样每个铸币交易时转账的地址就可以和矿池对应起来. 于是可以统计出每个矿池随着时间增长的情况下转往poll的ZEC值得变化情况.</p>
<center><img src = "https://img-blog.csdnimg.cn/20190313210152616.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<p>由于铸币交易存放在矿池的地址中, 矿池地址将ZEC转入pool之后把这些ZEC分发给自己的矿工, 每个矿池旗下都有很多个矿工,每个矿工都有自己的地址. 于是得出如下启发式方法.</p>
<h5 id="heuristic-4-如果一个z-to-t的交易中有超过100个输出地址只要其中1个地址属于已知的一个矿池地址那么则认为这笔交易是矿池的withdrawl交易-同时对其他输出地址标记为矿工的地址"><a class="markdownIt-Anchor" href="#heuristic-4-如果一个z-to-t的交易中有超过100个输出地址只要其中1个地址属于已知的一个矿池地址那么则认为这笔交易是矿池的withdrawl交易-同时对其他输出地址标记为矿工的地址"></a> Heuristic 4. 如果一个z-to-t的交易中有超过100个输出地址,只要其中1个地址属于已知的一个矿池地址,那么则认为这笔交易是矿池的withdrawl交易, 同时对其他输出地址标记为矿工的地址.</h5>
<p>启用该方法分析后, 最终得到在z-to-t标记中,将110918个地址标记为矿工地址, 最终得到的结果如图Fig.8c所示. top10矿池的t-to-z和z-to-t交易的信息如Table 4所示.</p>
<center><img src = "https://img-blog.csdnimg.cn/20190313213901501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<h3 id="713-识别其他实体交易"><a class="markdownIt-Anchor" href="#713-识别其他实体交易"></a> 7.1.3 识别其他实体交易</h3>
<h5 id="heuristic-5-如果一个z-to-t的交易中包含价值v的转账-随后若干个区块时间间隔内的z-to-t的交易中的价值也是v-则认为这笔交易时round-trip-transaction"><a class="markdownIt-Anchor" href="#heuristic-5-如果一个z-to-t的交易中包含价值v的转账-随后若干个区块时间间隔内的z-to-t的交易中的价值也是v-则认为这笔交易时round-trip-transaction"></a> Heuristic 5. 如果一个z-to-t的交易中包含价值v的转账, 随后若干个区块时间间隔内的z-to-t的交易中的价值也是v, 则认为这笔交易时round-trip transaction.</h5>
<p>这个假设看起来不那么靠谱,因为在若干个区块内t-to-z和z-to-t的两笔交易中的价值v相等的情况可能会很多,这种情况下没办法准确的将这些交易对应起来. 但是实际上经过分析发现,12,841笔不同面值的交易中, 其中9487笔交易的ZEC精确到了小数点后8位,其中的98.9%的交易,每笔交易的ZEC都精确到了小数点后3位.这些数据的特点,使得上述方法的实现成为了可能.</p>
<p>使用上述分析方法,最后识别出12841笔不同ZEC值的z-to-t和t-to-z的交易,转账总价值为 1,094,513.23684 ZEC, 其中97%的ZEC来自于矿工和创始人. 执行Heuristic 5中, 区块间隔分别设置为1~100,运行结果如图Figure 11所示. 当设置为10个区块间隔时, 可以关联到70%的z-to-t和t-to-z转账交易.</p>
<center><img src = "https://img-blog.csdnimg.cn/2019031321532617.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<h2 id="8shielded-pool内部的交互"><a class="markdownIt-Anchor" href="#8shielded-pool内部的交互"></a> 8.Shielded Pool内部的交互</h2>
<p>文中作者分析了6,934笔z-to-z的交易, 其中包括8,444个JoinSplits.  其中93%的z-to-z交易仅仅使用1个JoinSplit作为输入. 1个JoinSplit中最多包括2个shield output作为input,  这表明大部分的z-to-z交易时以最多2个shielded output作为input. 作者不太确定 是不是一小部分用户进行了多次的交易,或者是很多用户仅仅做一次交易.这样的根本问题在于, shielded pool中z-address的个数有多少个, 并且控制他们的实体到底有多少. 实际上发现Bitclub Pool中t-to-z交易总共有196笔, 但是z-to-z交易有1516笔,这说明要么Bitclub Pool 在t-to-z之后进行了很多z-to-z的交易, 要么说明t-to-z之后还有返回的找零. 然而实际上BitClub总共只有200个z-to-t交易, 所以前者的概率更大.</p>
<h2 id="9案例分析the-shadow-brokers"><a class="markdownIt-Anchor" href="#9案例分析the-shadow-brokers"></a> 9.案例分析:The Shadow Brokers</h2>
<p>The Shadow Brokers(TSB), 是一个2016年兴起的黑客组织, 主要贩售美国国家安全局(NSA)制作的软件, TSB起先值接收Bitcoin的转账, 随后开始接收Zcash的转账.</p>
<p>作者首先翻看了TSB的博客(目前该博客的网址貌似打不开了), 在2017年5月, 该组织宣称他们开始接收Zcash作为他们的服务费, 2017年6月~8月收取Zcash和Monero, 但是9月份以后只收Zcash. Table 5展示了该组织从5月份开始到10月份,总共收到的ZEC.</p>
<center><img src = "https://img-blog.csdnimg.cn/20190313221915254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<p>为了识别出有关该组织的t-to-z交易, 首先排除矿工和创始人存储的有关100, 200, 400, 500的t-to-z的交易, 所以对于TSB的客户,有下述两个假设:</p>
<ul>
<li>他们的ZEC不是来自于z-to-t交易, 并应该是来自t-to-t交易,因为可以从交易所购买币种.</li>
<li>他们不是经常使用ZEC的人,因此假设这个账户的交易次数在250以内.(250这个参数估计作者根据数据定的阈值)</li>
<li>改地址所属的较大的群在1个月以内存入pool不超过1 ZEC(老实说,这个假设我没看明白是啥意思)<br />
最终得到24个疑似客户,结果如下Table 6所示.</li>
</ul>
<center><img src = "https://img-blog.csdnimg.cn/20190313225054124.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Q0NjQxNDcwNDE1MmFiYw==,size_16,color_FFFFFF,t_70">
</center>
<h2 id="10-结论"><a class="markdownIt-Anchor" href="#10-结论"></a> 10 结论</h2>
<p>该论文对Zcash的交易情况作了深入的分析, 尤其是对其匿名性保证进行了检验, 为了检验Zcash的匿名性,作者利用了众多启发式的方法以及之前对其他加密货币用过的经验分析方法. 论文研究结果表明大多数的用户并没有很好地使用ZCash的匿名性,或者说大多数的用户并没有很好地使用ZCash的匿名性, 与shield pool 进行交互进行匿名的方式仍然留下了线索从而被识别出来, 这减少了ZCash 中的匿名集的范围, 也严重的损害了其他用户的匿名性.</p>

      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/22/%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C%E7%A7%91%E6%99%AE/" rel="next" title="闪电网络科普">
                <i class="fa fa-chevron-left"></i> 闪电网络科普
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/03/20/EOS%E4%B8%ADplugin%E4%B9%8Bproducer_plugin/" rel="prev" title="EOS中plugin之producer_plugin">
                EOS中plugin之producer_plugin <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar2.jpg"
                alt="博主" />
            
              <p class="site-author-name" itemprop="name">博主</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/hzxGoForward" title="github &rarr; https://github.com/hzxGoForward" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>github</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.zhihu.com/people/wen-ge-hua-49/activities" title="zhihu &rarr; https://www.zhihu.com/people/wen-ge-hua-49/activities" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>zhihu</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="/hzx@pku.edu.cn" title="email &rarr; hzx@pku.edu.cn"><i class="fa fa-fw fa-envelope"></i>email</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://me.csdn.net/t46414704152abc" title="csdn &rarr; https://me.csdn.net/t46414704152abc" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>csdn</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://leetcode.cn/u/hzxforward/" title="leetcode &rarr; https://leetcode.cn/u/hzxforward/" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>leetcode</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-zcash%E7%9A%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E4%BB%8B%E7%BB%8D"><span class="nav-text"> 1. Zcash的相关知识介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#11-zcash%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-text"> 1.1 Zcash的工作原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-joinsplits"><span class="nav-text"> 1.2 JoinSplits</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-zcash%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8F%82%E4%B8%8E%E8%80%85"><span class="nav-text"> 1.3 Zcash的主要参与者</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E8%AE%BA%E6%96%87%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9%E7%AE%80%E8%A6%81%E4%BB%8B%E7%BB%8D"><span class="nav-text"> 2. 论文主要内容简要介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#21-%E4%B8%BB%E8%A6%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D"><span class="nav-text"> 2.1 主要研究方法和内容介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-%E6%96%87%E7%AB%A0%E7%BB%93%E8%AE%BA"><span class="nav-text"> 2.2 文章结论</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E5%8C%BF%E5%90%8D%E6%80%A7%E6%96%B9%E9%9D%A2%E7%9A%84%E5%85%B6%E4%BB%96%E7%A0%94%E7%A9%B6"><span class="nav-text"> 3. 匿名性方面的其他研究</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E6%80%9D%E8%80%83"><span class="nav-text"> 4. 思考</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E5%AF%B9%E6%96%87%E7%AB%A0%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E7%9A%84%E8%AF%A6%E7%BB%86%E9%98%85%E8%AF%BB%E8%A7%A3%E6%9E%90"><span class="nav-text"> 5. 对文章分析方法的详细阅读解析</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#51-zcash%E7%9A%84%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AF"><span class="nav-text"> 5.1 Zcash的统计信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#511-%E5%8C%BA%E5%9D%97%E7%94%9F%E4%BA%A7%E4%BF%A1%E6%81%AF"><span class="nav-text"> 5.1.1 区块生产信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#512-%E4%BA%A4%E6%98%93transactions"><span class="nav-text"> 5.1.2 交易(Transactions)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#513-%E5%9C%B0%E5%9D%80addresses%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AF"><span class="nav-text"> 5.1.3 地址(Addresses)统计信息</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-t-address-clustering"><span class="nav-text"> 6. T-Address Clustering</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#heuristic-1-%E5%A6%82%E6%9E%9C%E6%9C%89%E5%A4%9A%E4%B8%AAt-address%E4%BD%9C%E4%B8%BA%E8%BE%93%E5%85%A5%E5%87%BA%E7%8E%B0%E5%9C%A8%E5%90%8C%E4%B8%80%E7%AC%94%E4%BA%A4%E6%98%93%E4%B8%AD%E6%97%A0%E8%AE%BA%E8%BF%99%E7%AC%94%E4%BA%A4%E6%98%93%E6%98%AFt-to-z%E6%88%96%E8%80%85t-to-t%E6%8A%91%E6%88%96%E6%98%AFmixed%E4%BA%A4%E6%98%93-%E6%88%91%E4%BB%AC%E9%83%BD%E8%AE%A4%E4%B8%BA%E8%BF%99%E4%BA%9B%E5%9C%B0%E5%9D%80%E5%8F%97%E5%90%8C%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%9A%84%E6%8E%A7%E5%88%B6"><span class="nav-text"> Heuristic 1: 如果有多个t-address作为输入出现在同一笔交易中,无论这笔交易是t-to-z或者t-to-t抑或是Mixed交易, 我们都认为这些地址受同一个实体的控制.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#heuristic-2-%E5%A6%82%E6%9E%9C%E5%9C%A8%E4%B8%80%E7%AC%94%E4%BA%A4%E6%98%93%E7%9A%84joinsplit%E7%9A%84input%E4%B8%AD%E6%9C%89%E4%B8%80%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA%E5%9C%B0%E5%9D%80%E6%98%AFt-address%E4%BB%A3%E5%8F%B7t_addr_a-%E8%80%8C%E7%AC%AC%E4%BA%8C%E4%B8%AAinput%E5%9C%B0%E5%9D%80%E4%BB%A3%E5%8F%B7t_addr_b%E5%90%8C%E6%97%B6%E5%8F%88%E6%98%AF%E5%94%AF%E4%B8%80%E7%9A%84%E4%B8%80%E4%B8%AAoutput-t-address%E9%82%A3%E4%B9%88-t_addr_b%E5%92%8Ct_addr_a%E9%9A%B6%E5%B1%9E%E4%BA%8E%E5%90%8C%E4%B8%80%E5%AE%9E%E4%BD%93%E6%8E%A7%E5%88%B6"><span class="nav-text"> Heuristic 2: 如果在一笔交易的JoinSplit的input中有一个或者多个地址是t-address(代号t_addr_A), 而第二个input地址(代号t_addr_B)同时又是唯一的一个output t-address,那么 t_addr_B和t_addr_A隶属于同一实体控制.</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#61-tagging-address%E6%A0%87%E8%AE%B0%E5%90%84%E7%A7%8D%E5%9C%B0%E5%9D%80"><span class="nav-text"> 6.1 Tagging address(标记各种地址)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#611-%E6%A0%87%E8%AE%B0%E4%BA%A4%E6%98%93%E6%89%80%E7%9A%84%E5%9C%B0%E5%9D%80"><span class="nav-text"> 6.1.1 标记交易所的地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#612-%E6%A0%87%E8%AE%B0%E5%88%9B%E5%A7%8B%E4%BA%BA%E5%92%8C%E7%9F%BF%E5%B7%A5%E7%9A%84%E5%9C%B0%E5%9D%80"><span class="nav-text"> 6.1.2  标记创始人和矿工的地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#613-%E7%BB%93%E6%9E%9C"><span class="nav-text"> 6.1.3 结果</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%9F%BF%E5%B7%A5%E5%92%8C%E5%88%9B%E5%A7%8B%E4%BA%BA"><span class="nav-text"> 矿工和创始人</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%AC%E5%BC%80%E7%9A%84%E7%BB%84%E7%BB%87"><span class="nav-text"> 公开的组织</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-%E4%B8%8Eshielded-pool%E7%9A%84%E4%BA%A4%E4%BA%92"><span class="nav-text"> 7. 与Shielded Pool的交互</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#71-t-to-z%E5%92%8Cz-to-t%E4%BA%A4%E6%98%93%E4%B9%8B%E9%97%B4%E5%BB%BA%E7%AB%8B%E8%81%94%E7%B3%BB"><span class="nav-text"> 7.1 t-to-z和z-to-t交易之间建立联系</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#711-%E5%B0%86z-to-t%E4%B8%AD%E5%88%9B%E5%A7%8B%E4%BA%BA%E7%9A%84t-address%E8%AF%86%E5%88%AB%E5%87%BA%E6%9D%A5"><span class="nav-text"> 7.1.1 将z-to-t中创始人的t-address识别出来</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#heuristic-3-%E4%BB%BB%E4%BD%95z-to-t%E7%9A%84%E4%BA%A4%E6%98%93%E4%B8%AD%E5%A6%82%E6%9E%9C%E8%BD%AC%E5%87%BA2500001zec-%E9%82%A3%E4%B9%88%E8%BF%99%E7%AC%94%E4%BA%A4%E6%98%93%E6%98%AF%E7%94%B1%E5%88%9B%E5%A7%8B%E4%BA%BA%E5%8F%91%E8%B5%B7%E7%9A%84"><span class="nav-text"> Heuristic 3. 任何z-to-t的交易中,如果转出250.0001ZEC, 那么这笔交易是由创始人发起的.</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#712-%E5%B0%86z-to-t%E4%B8%AD%E7%9F%BF%E5%B7%A5%E7%9A%84t-address%E8%AF%86%E5%88%AB%E5%87%BA%E6%9D%A5"><span class="nav-text"> 7.1.2 将z-to-t中矿工的t-address识别出来</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#heuristic-4-%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AAz-to-t%E7%9A%84%E4%BA%A4%E6%98%93%E4%B8%AD%E6%9C%89%E8%B6%85%E8%BF%87100%E4%B8%AA%E8%BE%93%E5%87%BA%E5%9C%B0%E5%9D%80%E5%8F%AA%E8%A6%81%E5%85%B6%E4%B8%AD1%E4%B8%AA%E5%9C%B0%E5%9D%80%E5%B1%9E%E4%BA%8E%E5%B7%B2%E7%9F%A5%E7%9A%84%E4%B8%80%E4%B8%AA%E7%9F%BF%E6%B1%A0%E5%9C%B0%E5%9D%80%E9%82%A3%E4%B9%88%E5%88%99%E8%AE%A4%E4%B8%BA%E8%BF%99%E7%AC%94%E4%BA%A4%E6%98%93%E6%98%AF%E7%9F%BF%E6%B1%A0%E7%9A%84withdrawl%E4%BA%A4%E6%98%93-%E5%90%8C%E6%97%B6%E5%AF%B9%E5%85%B6%E4%BB%96%E8%BE%93%E5%87%BA%E5%9C%B0%E5%9D%80%E6%A0%87%E8%AE%B0%E4%B8%BA%E7%9F%BF%E5%B7%A5%E7%9A%84%E5%9C%B0%E5%9D%80"><span class="nav-text"> Heuristic 4. 如果一个z-to-t的交易中有超过100个输出地址,只要其中1个地址属于已知的一个矿池地址,那么则认为这笔交易是矿池的withdrawl交易, 同时对其他输出地址标记为矿工的地址.</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#713-%E8%AF%86%E5%88%AB%E5%85%B6%E4%BB%96%E5%AE%9E%E4%BD%93%E4%BA%A4%E6%98%93"><span class="nav-text"> 7.1.3 识别其他实体交易</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#heuristic-5-%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AAz-to-t%E7%9A%84%E4%BA%A4%E6%98%93%E4%B8%AD%E5%8C%85%E5%90%AB%E4%BB%B7%E5%80%BCv%E7%9A%84%E8%BD%AC%E8%B4%A6-%E9%9A%8F%E5%90%8E%E8%8B%A5%E5%B9%B2%E4%B8%AA%E5%8C%BA%E5%9D%97%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%E5%86%85%E7%9A%84z-to-t%E7%9A%84%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E4%BB%B7%E5%80%BC%E4%B9%9F%E6%98%AFv-%E5%88%99%E8%AE%A4%E4%B8%BA%E8%BF%99%E7%AC%94%E4%BA%A4%E6%98%93%E6%97%B6round-trip-transaction"><span class="nav-text"> Heuristic 5. 如果一个z-to-t的交易中包含价值v的转账, 随后若干个区块时间间隔内的z-to-t的交易中的价值也是v, 则认为这笔交易时round-trip transaction.</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8shielded-pool%E5%86%85%E9%83%A8%E7%9A%84%E4%BA%A4%E4%BA%92"><span class="nav-text"> 8.Shielded Pool内部的交互</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90the-shadow-brokers"><span class="nav-text"> 9.案例分析:The Shadow Brokers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E7%BB%93%E8%AE%BA"><span class="nav-text"> 10 结论</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

<!--背景音乐-->
<!--iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=86 src="//music.163.com/outchain/player?type=2&id=37856454&auto=1&height=66"></iframe> --> 
<!--<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=556319523&auto=1&height=66"></iframe> -->
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=86 src="//music.163.com/outchain/player?type=2&id=4341314&auto=1&height=66"></iframe>

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">博主</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v6.3.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.6.0</div>


<div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!--注释本行<span id="busuanzi_container_site_pv" style='display:none'>-->
    本站总访问量 <span id="busuanzi_value_site_pv"></span> 次
    <span class="post-meta-divider">|</span>
</span>
<span id="busuanzi_container_site_uv" style='display:none'>
    本站访问<span id="busuanzi_value_site_uv"></span>人次
</span>
</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
      
  
  <script type="text/javascript" color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.6.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.6.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.6.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.6.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  










  





  

  

  

  



  
  

  
  

  


  
  

  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('Copy')
        }, 300)
      }).append(e)
    })
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


  

</body>
</html>
